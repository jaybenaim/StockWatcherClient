(this["webpackJsonpreact-starter-template"]=this["webpackJsonpreact-starter-template"]||[]).push([[0],{187:function(e,t,a){},302:function(e,t,a){e.exports=a(522)},312:function(e,t,a){},465:function(e,t,a){},469:function(e,t,a){},488:function(e,t,a){},489:function(e,t,a){},521:function(e,t,a){},522:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(12),s=a.n(c),l=a(8),o=a(58),i=a.n(o);a(524),a(307),a(309),a(523);i.a.initializeApp({apiKey:"AIzaSyBucy-UeTjedwPID39714EAHoA9R3H_GGs",authDomain:"stockwatcher-67aec.firebaseapp.com",databaseURL:"https://stockwatcher-67aec-default-rtdb.firebaseio.com/",projectId:"stockwatcher-67aec",storageBucket:"stockwatcher-67aec.appspot.com",messagingSenderId:"422151887884",appId:"1:422151887884:web:0b404f26f816da3d81a229",measurementId:"G-HDMT81EJ18"});const m=i.a.auth(),u=(i.a.firestore(),i.a.storage(),i.a.messaging());var p=a(57),d=(a(312),a(14)),h=a(36),E=a(17),b=a(562),g=a(567),f=a(568),v=a(565),w=a(89),k=a(566),y=a(290),O=a(285),x=a.n(O),j=a(286),S=a.n(j),N=(a(465),a(11)),C=a.n(N),T=a(19),R=a(22),_=a(563),W=a(526),I=a(559);var M=({result:e,setResults:t})=>n.a.createElement(I.a,{className:"autocomplete--result",primary:e,onClick:()=>{t([])}});const D=Object(b.a)(e=>({root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper,position:"relative",overflow:"auto",maxHeight:300},listSection:{backgroundColor:"inherit"},ul:{backgroundColor:"inherit",padding:0}}));var F=({results:e,setResults:t})=>{const a=D();return n.a.createElement(_.a,{className:a.root,subheader:n.a.createElement("li",null)},n.a.createElement("ul",{className:a.ul},e.map((e,a)=>n.a.createElement(d.b,{to:{pathname:"/search/".concat(e.split("-")[0]),state:{result:e}},key:a},n.a.createElement(W.a,null,n.a.createElement(M,{result:e,setResults:t}))))))},L=a(284),P=a.n(L),A=a(529),U=a(564),H=a(583);a(469);var z,B,G=a(283),K=a.n(G);const q=RegExp(/(csrftoken=.*;|csrftoken=.*)/),V=(null===(z=document.cookie)||void 0===z?void 0:z.match(q))?null===(B=document.cookie)||void 0===B?void 0:B.match(q)[0]:"",Y=localStorage.getItem("fb-token");let J;if(void 0!==Y){const e={};V&&(e["X-CSRFToken"]=V),Y&&(e.Authorization="Token ".concat(Y)),J=K.a.create({baseURL:"http://localhost:8000/api",withCredentials:!0,xsrfHeaderName:"X-CSRFToken",xsrfCookieName:"csrftoken",headers:e})}var X=J;const $=Object(b.a)(e=>({search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(R.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(R.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%",[e.breakpoints.up("sm")]:{marginLeft:e.spacing(3),width:"auto"}},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%",[e.breakpoints.up("md")]:{width:"20ch"}}}));var Q=Object(E.b)(e=>({isMobile:e.responsive.isMobile,showFilters:e.general.showSearchFilters,searchResults:e.search.searchResults}),{autocompleteSearch:e=>function(){var t=Object(T.a)(C.a.mark((function t(a){var r,n,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.url,t.prev=1,t.next=4,X.get(r);case 4:if(200!==(n=t.sent).status){t.next=8;break}return c=n.data.results||[],t.abrupt("return",a({type:"SET_AUTOCOMPLETE_RESULTS",payload:c}));case 8:t.next=13;break;case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",a({type:"SET_ERRORS",payload:t.t0}));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()})(e=>{const t=e.showFilters,a=e.searchResults,c=Object(E.c)(),s=Object(r.useState)(""),o=Object(l.a)(s,2),i=o[0],m=o[1],u=Object(r.useState)([]),p=Object(l.a)(u,2),d=p[0],h=p[1],b=Object(r.useState)(!1),g=Object(l.a)(b,2),f=g[0],v=g[1],w=$(),k=function(){var t=Object(T.a)(C.a.mark((function t(a){var r,n,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=(null===a||void 0===a||null===(r=a.target)||void 0===r?void 0:r.value)||i).length>=3)){t.next=17;break}return setTimeout(()=>{},200),t.prev=3,h(["Loading..."]),c="stock/search?query=".concat(n),f&&(c+="&include_name_in_search=true"),t.next=9,e.autocompleteSearch({url:c});case 9:m(n),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),console.log(t.t0);case 15:t.next=19;break;case 17:h([]),m("");case 19:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)(()=>{i.length>0&&k()},[f]),Object(r.useEffect)(()=>{h(a)},[a,f]),n.a.createElement("div",{className:w.search},n.a.createElement("div",{className:"autocomplete--hidden-container",onClick:()=>t&&c({type:"SET_SHOW_MENU_FILTERS",payload:!1})}),n.a.createElement("div",{className:w.searchIcon},n.a.createElement(P.a,null)),n.a.createElement(A.a,{placeholder:"Search\u2026",classes:{root:w.inputRoot,input:w.inputInput},inputProps:{"aria-label":"search"},onChange:k,onFocus:()=>!t&&c({type:"SET_SHOW_MENU_FILTERS",payload:!0})}),t&&n.a.createElement(U.a,{className:i.length>=1?"autocomplete--checkbox inline tooltip":"autocomplete--checkbox",control:n.a.createElement(H.a,{color:"primary",checked:f,onChange:e=>{v(e.target.checked)},inputProps:{"aria-label":"secondary checkbox"}}),label:i.length>=1?n.a.createElement("span",{className:"tooltiptext"},"Names"):"Include Names"}),d.length>0&&n.a.createElement("div",{className:"autocomplete--results"},n.a.createElement(F,{results:d,setResults:h})))});const Z=Object(b.a)(e=>({grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{display:"none",[e.breakpoints.up("sm")]:{display:"block"},color:"#fff",fontWeight:"600"},sectionDesktop:{display:"none",[e.breakpoints.up("md")]:{display:"flex"}},sectionMobile:{display:"flex",[e.breakpoints.up("md")]:{display:"none"}}}));function ee(){const e=Object(h.useFirebase)(),t=Object(p.f)(),a=Object(E.d)(e=>!e.firebase.auth.isEmpty),r=Z(),c=n.a.useState(null),s=Object(l.a)(c,2),o=s[0],i=s[1],m=n.a.useState(null),u=Object(l.a)(m,2),b=u[0],O=u[1],j=()=>{e.auth().signOut().then((function(){console.log("signed out"),localStorage.removeItem("fb-token"),t.push("/sign-in")})).catch((function(e){console.log(e)}))},N=Boolean(o),C=Boolean(b),T=()=>{O(null)},R=()=>{i(null),T()},_=n.a.createElement(y.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:"main-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:N,onClose:R},n.a.createElement(k.a,{onClick:R},n.a.createElement(d.b,{to:"/"},"Home")),a?n.a.createElement("div",null,n.a.createElement(k.a,{onClick:R},n.a.createElement(d.b,{to:"/admin",className:"MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary"},"Account")),n.a.createElement(k.a,{onClick:j},"Logout")):n.a.createElement(k.a,{onClick:R},n.a.createElement(d.b,{to:"/sign-in"},"Sign In"))),W=n.a.createElement(y.a,{anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},id:"main-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:C,onClose:T},n.a.createElement(k.a,{onClick:R},n.a.createElement(d.b,{to:"/"},"Home")),a?n.a.createElement("div",null,n.a.createElement(k.a,{onClick:R},n.a.createElement(d.b,{to:"/admin"},"Account")),n.a.createElement(k.a,{onClick:j},n.a.createElement(d.b,{to:"/sign-in"},"Logout"))):n.a.createElement(k.a,{onClick:R},n.a.createElement(d.b,{to:"/sign-in"},"Sign In")));return n.a.createElement("div",{className:"grow main-nav-menu"},n.a.createElement(g.a,{position:"static"},n.a.createElement(f.a,null,n.a.createElement(d.b,{to:"/"},n.a.createElement(w.a,{className:r.title,variant:"h6",noWrap:!0},"Stock Watcher")),n.a.createElement(Q,null),n.a.createElement("div",{className:r.grow}),n.a.createElement("div",{className:r.sectionDesktop},n.a.createElement(v.a,{edge:"end","aria-label":"account of current user","aria-controls":"main-menu","aria-haspopup":"true",onClick:e=>{i(e.currentTarget)},color:"inherit"},n.a.createElement(x.a,null))),n.a.createElement("div",{className:r.sectionMobile},n.a.createElement(v.a,{"aria-label":"show more","aria-controls":"main-menu-mobile","aria-haspopup":"true",onClick:e=>{O(e.currentTarget)},color:"inherit"},n.a.createElement(S.a,null))))),W,_)}var te=a(575),ae=a(577),re=a(585),ne=a(109),ce=a.n(ne);var se=Object(E.b)(e=>e,{})(({ticker:e,min:t,max:a,created:r,lastUpdated:c})=>n.a.createElement(W.a,{className:"stock-watcher--list-item display-col justify-start"},n.a.createElement("p",null,n.a.createElement(d.b,{to:"search/".concat(e.symbol),className:"stock-watcher--list-item-link"},e.symbol," - $"," ",n.a.createElement("span",{className:Number(e.price)<Number(t)||Number(e.price)>Number(a)?"price-out-of-range":"price-in-range"},e.price))),e.name&&n.a.createElement("p",null,n.a.createElement("strong",null,e.name)),n.a.createElement("p",null,n.a.createElement("strong",null,"Min: "),n.a.createElement("span",null,t)),n.a.createElement("p",null,n.a.createElement("strong",null,"Max: "),n.a.createElement("span",null,a)),n.a.createElement("p",null,n.a.createElement("strong",null,"Created At: "),n.a.createElement("span",null,r)),n.a.createElement("p",null,n.a.createElement("strong",null,"Price Last Updated: "),n.a.createElement("span",null,c))));var le=a(569),oe=a(570),ie=a(571),me=a(572),ue=a(586),pe=a(573),de=a(574),he=a(582);var Ee=Object(E.b)(e=>({errors:e.errors,user:e.firebase.profile.email}),{})(({tickerWatcher:e,min:t,max:a,onSuccess:c})=>{const s=Object(r.useState)(!1),o=Object(l.a)(s,2),i=o[0],m=o[1],u=Object(r.useState)(t),p=Object(l.a)(u,2),d=p[0],h=p[1],E=Object(r.useState)(a),b=Object(l.a)(E,2),g=b[0],f=b[1],v=Object(r.useState)(!1),w=Object(l.a)(v,2),k=w[0],y=w[1],O=Object(r.useState)({severity:"info",message:""}),x=Object(l.a)(O,2),j=x[0],S=x[1],N=function(){var t=Object(T.a)(C.a.mark((function t(){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,m(!0),a={min_price:d,max_price:g},t.next=5,X.put("/watchers/".concat(e.id,"/"),a);case 5:500!==t.sent.data.status?(c(),y(!0),S({severity:"success",message:"Updated Stock Watcher"})):(y(!0),S({severity:"error",message:"Issue updating current stock watcher, please try again."})),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),y(!0),S({severity:"error",message:"Issue updating current stock watcher, please try again."});case 13:m(!1);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),R=(e,t)=>{"clickaway"!==t&&y(!1)};return n.a.createElement("div",null,n.a.createElement(le.a,{item:!0,xs:12,className:"text-center pt-2"},n.a.createElement(re.a,{open:k,autoHideDuration:6e3,onClose:R},n.a.createElement(he.a,{severity:j.severity,onClose:R},j.message))),n.a.createElement(le.a,{item:!0,container:!0,justifyContent:"center",alignItems:"center",xs:12},i&&n.a.createElement(oe.a,null)),n.a.createElement(le.a,{item:!0,xs:12},n.a.createElement(ie.a,null,n.a.createElement(le.a,{container:!0,className:"watch-stock--form"},n.a.createElement(le.a,{item:!0,xs:5,className:"center"},n.a.createElement(me.a,null,n.a.createElement(ue.a,{htmlFor:"min"},"Min: "),n.a.createElement(pe.a,{id:"min","aria-describedby":"min-price",defaultValue:t,onChange:e=>h(e.target.value),type:"number"}),n.a.createElement(de.a,{id:"min-price"},"Min Price"))),n.a.createElement(le.a,{item:!0,xs:2}),n.a.createElement(le.a,{item:!0,xs:5,className:"center"},n.a.createElement(me.a,null,n.a.createElement(ue.a,{htmlFor:"max"},"Max: "),n.a.createElement(pe.a,{id:"max","aria-describedby":"max-price",defaultValue:a,onChange:e=>f(e.target.value),type:"number"}),n.a.createElement(de.a,{id:"max-price"},"Max Price"))),n.a.createElement(le.a,{item:!0,xs:12,className:"watch-stock--form--submit"},n.a.createElement(me.a,null,n.a.createElement(te.a,{variant:"outlined",onClick:N},"Watch")))))))}),be=a(576);var ge=Object(E.b)(e=>({errors:e.errors,userEmail:e.firebase.profile.email,watchers:e.watchers.watchersForUser}),{getStockWatchersByEmail:e=>function(){var t=Object(T.a)(C.a.mark((function t(a){var r,n,c,s,l;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.symbol,n=e.email,c=void 0===n?"":n,s="",t.prev=2,r&&r.length>0&&(s="&symbol=".concat(r)),t.next=6,X.get("/watchers?email=".concat(c).concat(s));case 6:200===(l=t.sent).status&&a({type:"GET_STOCK_WATCHERS_BY_EMAIL",payload:l.data.results}),t.next=13;break;case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",a({type:"SET_ERRORS",payload:t.t0}));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()})(e=>{let t=e.symbol,a=e.userEmail,c=e.setLoading,s=e.watchers;const o=Object(r.useState)(!1),i=Object(l.a)(o,2),m=i[0],u=i[1],p=Object(r.useState)({severity:"info",message:""}),d=Object(l.a)(p,2),h=d[0],E=d[1],b=Object(r.useState)(void 0),g=Object(l.a)(b,2),f=g[0],v=g[1],w=Object(r.useState)({ticker:void 0,open:!1}),k=Object(l.a)(w,2),y=k[0],O=k[1],x=function(){var r=Object(T.a)(C.a.mark((function r(){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c(!0),r.next=4,e.getStockWatchersByEmail({email:a,symbol:t});case 4:n=r.sent,console.log(n),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0);case 11:c(!1);case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(){return r.apply(this,arguments)}}();Object(r.useEffect)(()=>{a&&a.length>0&&x()},[a]);const j=function(){var e=Object(T.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.delete("/watchers/".concat(t));case 3:a=e.sent,console.log(a),500!==a.status?(u(!0),E({severity:"success",message:"Deleted Stock Watcher for ".concat(y.ticker)}),x()):(u(!0),E({severity:"error",message:"Issue deleting current stock watcher, please try again."})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),u(!0),E({severity:"error",message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),S=(e,t)=>{"clickaway"!==t&&u(!1)};return n.a.createElement(ae.a,null,t?n.a.createElement("h3",{className:"center pt-3"},"Current Watchers for ",t):n.a.createElement("h3",{className:"center pt-3"},"Current Stock Watchers"),n.a.createElement(_.a,{className:"stock-watcher--list"},s&&s.map((e,t)=>{const a=e.ticker,r=e.min_price,c=e.max_price,s=e.created_at,l=ce()(s).format("lll").replace(", 2021",", "),o=ce()(a.updated_at).format("lll").replace(", 2021",", ");return n.a.createElement("div",{key:t,className:"stock-watcher-list__item",onMouseLeave:()=>O({ticker:a.symbol,open:!1})},(void 0===f||f===a.symbol)&&n.a.createElement("div",{className:"stock-watcher-list__item-wrapper"},n.a.createElement(se,{ticker:a,min:r,max:c,created:l,lastUpdated:o}),y.ticker===a.symbol&&y.open?n.a.createElement("div",{className:"stock-watcher-list__dropdown-buttons"},n.a.createElement(te.a,{onClick:()=>{return e=a.symbol,void v(e===f?void 0:e);var e},variant:"outlined"},f===a.symbol?"Hide":"Edit"),n.a.createElement(te.a,{onClick:()=>j(e.id),variant:"contained"},"Delete")):n.a.createElement("div",{className:"stock-watcher-list__edit-toggle-icon",onMouseEnter:()=>O({ticker:a.symbol,open:!0})},n.a.createElement(be.a,null))),f===a.symbol&&n.a.createElement(Ee,{tickerWatcher:e,min:r,max:c,onSuccess:x}))})),n.a.createElement(re.a,{open:m,autoHideDuration:6e3,onClose:S},n.a.createElement(he.a,{severity:h.severity,onClose:S},h.message)))});var fe=a(527);var ve=Object(E.b)(e=>({errors:e.errors,recentTickers:e.tickers.recentTickers}),{getRecentTickers:e=>function(){var t=Object(T.a)(C.a.mark((function t(a){var r,n,c,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(e||{}).all,n=void 0===r?"":r,c="",t.prev=2,n&&"true"===n&&(c="?all=true"),t.next=6,X.get("/tickers".concat(c));case 6:s=t.sent,console.log(s),200===s.status&&a({type:"RECENT_TICKERS",payload:s.data.results}),t.next=14;break;case 11:return t.prev=11,t.t0=t.catch(2),t.abrupt("return",a({type:"SET_ERRORS",payload:t.t0}));case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()})(e=>{const t=e.recentTickers;Object(r.useEffect)(()=>{e.getRecentTickers({all:"true"})},[]);return n.a.createElement(n.a.Fragment,null,n.a.createElement("section",null,n.a.createElement("div",{className:"container ticker-slider scroll"},t.map((e,t)=>n.a.createElement(fe.a,{elevation:2,className:"ticker-slider__item",key:t},n.a.createElement(d.b,{to:{pathname:"/search/"+e.symbol,state:{ticker:e}}},n.a.createElement("p",null,"Tkr: ",n.a.createElement("span",{className:"ticker-slider__item--ticker"},e.symbol)),n.a.createElement("p",null,"Price: ",n.a.createElement("span",{className:"ticker-slider__item--price"},e.price)),n.a.createElement("p",null,ce()(e.updated_at).format("MMM Do, h:mm a"))))))))});var we=()=>{const e=Object(r.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1];return n.a.createElement("main",{id:"mainContent"},n.a.createElement("div",{className:"container"},n.a.createElement(ve,null),n.a.createElement(ge,{loading:a,setLoading:c})))},ke=a(291);var ye=function(e){let t=e.role,a=e.children,c=Object(ke.a)(e,["role","children"]);const s=Object(E.d)(e=>e.firebase.auth),o=Object(r.useState)(!0),i=Object(l.a)(o,2),m=i[0],u=i[1];return void 0===t&&(t=!1),n.a.createElement(p.a,Object.assign({},c,{render:e=>s.isEmpty?m?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"alert alert-danger login-alert",role:"alert"},"Please login first!",n.a.createElement("button",{className:"btn-success alert-close-btn",onClick:()=>u(!1)},"X"))):n.a.createElement(we,e):a}))},Oe=a(16),xe=a(578),je=a(587),Se=a(581),Ne=a(580),Ce=a(139),Te=a.n(Ce);a(187);var Re=()=>n.a.createElement(w.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",n.a.createElement("a",{href:"https://jacobbenaim.ca",target:"_blank",rel:"noreferer noopener noreferrer"},"Jacob Benaim")," ",(new Date).getFullYear(),"."),_e=a(579);const We=Object(b.a)(e=>({paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)}}));function Ie(){const e=We(),t=Object(h.useFirebase)(),a=Object(p.f)(),c=Object(r.useState)(""),s=Object(l.a)(c,2),o=s[0],i=s[1],u=Object(r.useState)(""),E=Object(l.a)(u,2),b=E[0],g=E[1],f=Object(r.useState)({email:"",password:"",error:""}),v=Object(l.a)(f,2),k=v[0],y=v[1],O=function(){var e=Object(T.a)(C.a.mark((function e(r,n){var c,s,l,i,u,p,d,h;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),c=o.length>=1?o:"",s=b.length>=1?b:"",e.prev=3,e.next=6,t.login({provider:"email"===n?null:n,type:"popup",email:c,password:s});case 6:return l=e.sent,console.log(l),i=l.user.email||"",e.next=11,m.currentUser.getIdToken(!0);case 11:if(u=e.sent,console.log("Token",u),localStorage.setItem("fb-token",u),!("email"!==n&&i.length>0)){e.next=27;break}return e.prev=15,e.next=18,X.post("/users/",{username:i,email:i});case 18:(p=e.sent).data.id&&t.updateProfile({id:p.data.id}),console.log("new USer",p),409!==p.data.status?(localStorage.setItem("fb-token",u),a.push("/")):y(Object(Oe.a)(Object(Oe.a)({},k),{},{error:"User already exists."})),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(15),y(Object(Oe.a)(Object(Oe.a)({},k),{},{error:e.t0}));case 27:a.push("/"),e.next=35;break;case 30:e.prev=30,e.t1=e.catch(3),console.log(e.t1),console.log("Error: ".concat(e.t1.message)),(null===(d=e.t1.code)||void 0===d?void 0:d.includes("email"))?y({email:e.t1.message,password:k.password,error:k.error}):(null===(h=e.t1.code)||void 0===h?void 0:h.includes("password"))?y({email:k.email,password:e.t1.message,error:k.error}):y({email:k.email,password:k.password,error:e.t1.message});case 35:case"end":return e.stop()}}),e,null,[[3,30],[15,24]])})));return function(t,a){return e.apply(this,arguments)}}();return n.a.createElement(ae.a,{component:"main",maxWidth:"xs"},n.a.createElement(xe.a,null),n.a.createElement("div",{className:e.paper},n.a.createElement(je.a,{className:"lock-icon"},n.a.createElement(Te.a,null)),n.a.createElement(w.a,{component:"h1",variant:"h5"},"Sign in"),k.error.length>0&&n.a.createElement(he.a,{severity:"error",className:"mt-2"},n.a.createElement(_e.a,null,"Error"),k.error),n.a.createElement("form",{className:e.form,noValidate:!0},n.a.createElement("fieldset",null,n.a.createElement(Se.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:k.email.length<1?"Email Address":"Email ERROR",helperText:k.email.length>0&&k.email,name:"email",autoComplete:"email",autoFocus:!0,type:"email",onChange:e=>i(e.target.value),error:k.email.length>0})),n.a.createElement("fieldset",null,n.a.createElement(Se.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:k.password.length<1?"Password":"Password ERROR",helperText:k.password.length>0&&k.password,id:"password",autoComplete:"current-password",type:"password",onChange:e=>g(e.target.value),error:k.password.length>0})),n.a.createElement(U.a,{control:n.a.createElement(H.a,{value:"remember",color:"primary"}),label:"Remember me"}),n.a.createElement(te.a,{type:"submit",fullWidth:!0,variant:"contained",className:"sign-in--email primary-bg",onClick:e=>O(e,"email")},"Sign In"),n.a.createElement(le.a,{container:!0},n.a.createElement(le.a,{item:!0,xs:12},n.a.createElement(d.b,{to:"/forgot-password",variant:"body2"},n.a.createElement(w.a,{component:"p",variant:"subtitle1"},"Forgot Password?"))),n.a.createElement(le.a,{item:!0,xs:12,className:"mt-2"},n.a.createElement(d.b,{to:"/sign-up"},n.a.createElement(w.a,{component:"p",variant:"subtitle1",className:"display-center"},"Don't have an account?",n.a.createElement(te.a,{variant:"text",color:"primary",className:"ml-2"},"Sign Up")))),n.a.createElement(le.a,{item:!0,xs:12,className:"display-center p-3"},n.a.createElement(te.a,{variant:"contained",className:"sign-in--google primary-bg",onClick:e=>O(e,"google")},n.a.createElement("i",{className:"fa fa-google","aria-hidden":"true"}),n.a.createElement("span",{className:"pl-1"},"Login with Google")))))),n.a.createElement(Ne.a,{mt:8},n.a.createElement(Re,null)))}const Me=Object(b.a)(e=>({paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}));function De(){const e=Me(),t=Object(h.useFirebase)(),a=Object(p.f)(),c=Object(r.useState)(""),s=Object(l.a)(c,2),o=s[0],i=s[1],u=Object(r.useState)(""),E=Object(l.a)(u,2),b=E[0],g=E[1],f=Object(r.useState)({email:"",password:"",error:""}),v=Object(l.a)(f,2),k=v[0],y=v[1],O=function(){var e=Object(T.a)(C.a.mark((function e(r,n){var c,s,l,i,u,p,d,h,E,g;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),c=o.length>=1?o:"",s=b.length>=1?b:"","email"!==n){e.next=33;break}return e.prev=4,e.next=7,t.createUser({email:o,password:b});case 7:return l=e.sent,i=l.email||"",e.next=11,m.currentUser.getIdToken();case 11:if(u=e.sent,localStorage.setItem("fb-token",u),!("email"!==n&&i.length>0)){e.next=25;break}return e.prev=14,e.next=17,X.post("/users/",{username:i,email:i});case 17:(p=e.sent).data.id&&t.updateProfile({id:p.data.id}),409!==p.data.status?a.push("/"):y(Object(Oe.a)(Object(Oe.a)({},k),{},{error:"User already exists."})),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(14),y(Object(Oe.a)(Object(Oe.a)({},k),{},{error:e.t0}));case 25:a.push("/"),e.next=31;break;case 28:e.prev=28,e.t1=e.catch(4),(null===(d=e.t1.code)||void 0===d?void 0:d.includes("email"))?y({email:e.t1.message,password:k.password,error:k.error}):(null===(h=e.t1.code)||void 0===h?void 0:h.includes("password"))?y({email:k.email,password:e.t1.message,error:k.error}):y({email:k.email,password:k.password,error:e.t1.message});case 31:e.next=61;break;case 33:return e.prev=33,e.next=36,t.login({provider:n,type:"popup",email:c,password:s});case 36:return l=e.sent,console.log("Res",l),i=l.profile.email||"",e.next=41,l.user.getIdToken();case 41:if(u=e.sent,localStorage.setItem("fb-token",u),!("email"!==n&&i.length>0)){e.next=55;break}return e.prev=44,e.next=47,X.post("/users/",{username:i,email:i});case 47:(p=e.sent).data.id&&t.updateProfile({id:p.data.id}),409!==p.data.status?a.push("/"):y(Object(Oe.a)(Object(Oe.a)({},k),{},{error:"User already exists."})),e.next=55;break;case 52:e.prev=52,e.t2=e.catch(44),y(Object(Oe.a)(Object(Oe.a)({},k),{},{error:e.t2}));case 55:a.push("/"),e.next=61;break;case 58:e.prev=58,e.t3=e.catch(33),(null===(E=e.t3.code)||void 0===E?void 0:E.includes("email"))?y({email:e.t3.message,password:k.password,error:k.error}):(null===(g=e.t3.code)||void 0===g?void 0:g.includes("password"))?y({email:k.email,password:e.t3.message,error:k.error}):y({email:k.email,password:k.password,error:e.t3.message});case 61:case"end":return e.stop()}}),e,null,[[4,28],[14,22],[33,58],[44,52]])})));return function(t,a){return e.apply(this,arguments)}}();return n.a.createElement(ae.a,{component:"main",maxWidth:"xs"},n.a.createElement(xe.a,null),n.a.createElement("div",{className:e.paper},n.a.createElement(je.a,{className:"lock-icon"},n.a.createElement(Te.a,null)),n.a.createElement(w.a,{component:"h1",variant:"h5"},"Sign up"),n.a.createElement("form",{className:e.form,noValidate:!0},n.a.createElement("fieldset",null,n.a.createElement(Se.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:k.email.length<1?"Email Address":"Email ERROR",helperText:k.email.length>0&&k.email,name:"email",autoComplete:"email",autoFocus:!0,type:"email",onChange:e=>i(e.target.value),error:k.email.length>0})),n.a.createElement("fieldset",null,n.a.createElement(Se.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:k.password.length<1?"Password":"Password ERROR",helperText:k.password.length>0&&k.password,id:"password",autoComplete:"current-password",type:"password",onChange:e=>g(e.target.value),error:k.password.length>0})),n.a.createElement(te.a,{type:"submit",fullWidth:!0,variant:"contained",className:"sign-in--email primary-bg",onClick:e=>O(e,"email")},"Sign Up"),n.a.createElement(le.a,{container:!0,justifyContent:"flex-end"},n.a.createElement(le.a,{item:!0},n.a.createElement(d.b,{to:"/sign-in"},n.a.createElement(w.a,{component:"p",variant:"subtitle1",className:"display-center"},"Already have an account?",n.a.createElement(te.a,{variant:"text",color:"primary",className:"ml-2"},"Sign In")))),n.a.createElement(le.a,{item:!0,xs:12,className:"display-center mt-2"},n.a.createElement(te.a,{variant:"contained",className:"sign-in--google primary-bg",onClick:e=>O(e,"google")},n.a.createElement("i",{className:"fa fa-google","aria-hidden":"true"}),n.a.createElement("span",{className:"pl-1"},"Sign Up with Google")))))),n.a.createElement(Ne.a,{mt:5},n.a.createElement(Re,null)))}var Fe=()=>n.a.createElement("div",{className:""},"Admin");var Le=Object(E.b)(e=>({errors:e.errors,user:e.firebase.profile.email}),{})(({user:e,symbol:t,min:a,max:r,setMin:c,setMax:s,stockData:l,setAlertOpen:o,setAlert:i,setLoading:m})=>{const u=function(){var n=Object(T.a)(C.a.mark((function n(){var c,s;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,m(!0),c={user:e,symbol:t,price:l.currentPrice,min_price:a,max_price:r},n.next=5,X.post("stock/watch/",c);case 5:s=n.sent,console.log(s),500!==s.data.status?(console.log(s.data),o(!0),i({severity:"success",message:"New Stock Watcher Created"})):(o(!0),i({severity:"error",message:"Issue creating new stock watcher, please try again."})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:m(!1);case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}();return n.a.createElement(le.a,{container:!0},n.a.createElement(le.a,{item:!0,xs:12,className:"text-center pt-2"},n.a.createElement("h3",null,"Get notified when the price is out of this range: ",a||l.currentPrice," - ",r||l.currentPrice)),n.a.createElement(le.a,{item:!0,xs:12},n.a.createElement(ie.a,null,n.a.createElement(le.a,{container:!0,className:"watch-stock--form"},n.a.createElement(le.a,{item:!0,xs:3}),n.a.createElement(le.a,{item:!0,xs:3,className:"center"},n.a.createElement(me.a,null,n.a.createElement(ue.a,{htmlFor:"min"},"Min: "),n.a.createElement(pe.a,{id:"min","aria-describedby":"min-price",onChange:e=>c(e.target.value),type:"number"}),n.a.createElement(de.a,{id:"min-price"},"Min Price"))),n.a.createElement(le.a,{item:!0,xs:3,className:"center"},n.a.createElement(me.a,null,n.a.createElement(ue.a,{htmlFor:"max"},"Max: "),n.a.createElement(pe.a,{id:"max","aria-describedby":"max-price",onChange:e=>s(e.target.value),type:"number"}),n.a.createElement(de.a,{id:"max-price"},"Max Price"))),n.a.createElement(le.a,{item:!0,xs:3}),n.a.createElement(le.a,{item:!0,xs:12,className:"watch-stock--form--submit"},n.a.createElement(me.a,null,n.a.createElement(te.a,{variant:"outlined",onClick:u},"Watch")))))))});var Pe=Object(E.b)(e=>({errors:e.errors,user:e.firebase.profile.email}),{})(({symbol:e,stockData:t,setStockData:a,watchStockForm:c,showWatchStockForm:s,setAlert:l,isLoading:o,setLoading:i})=>{const m=function(){var t=Object(T.a)(C.a.mark((function t(r,n=""){var c,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&"target"in r.keys()?c=r.target.value:n.length>0&&(c=n),!(c.length>0)){t.next=14;break}return t.prev=2,i(!0),t.next=6,X.get("/stock/summary?symbol=".concat(e));case 6:200===(s=t.sent).status&&(a(s.data),i(!1)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0),i(!1);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)(()=>{e.length>1&&m(null,e)},[]),n.a.createElement(le.a,{container:!0,spacing:2},n.a.createElement(le.a,{item:!0,container:!0,direction:"column",xs:6},n.a.createElement("p",null,"\\ _/\\ __/    -"),"CHART"),n.a.createElement(le.a,{item:!0,container:!0,xs:6,direction:"column",className:"stock-data--right-column"},!o&&t&&Object.keys(t).length>0&&n.a.createElement(le.a,{container:!0},n.a.createElement(le.a,{item:!0,xs:6},n.a.createElement("p",null,"Current Price $",t.currentPrice," ",t.currency)),n.a.createElement(le.a,{item:!0,xs:6},n.a.createElement("p",null,"Open - ",t.open)),n.a.createElement(le.a,{item:!0,xs:6},n.a.createElement("p",null,"Day High - ",t.regularMarketDayHigh)),n.a.createElement(le.a,{item:!0,xs:6},n.a.createElement("p",null,"Day Low - ",t.regularMarketDayLow)),n.a.createElement(le.a,{item:!0,xs:6},n.a.createElement("p",null,"Last Bid - ",t.bid)),n.a.createElement(le.a,{item:!0,xs:6},n.a.createElement("p",null,"Bid Size - ",t.bidSize)))),n.a.createElement(le.a,{item:!0,container:!0,direction:"column",xs:6},"chart"),n.a.createElement(le.a,{item:!0,container:!0,direction:"row",justifyContent:"center",alignItems:"center",xs:12},!c&&n.a.createElement(te.a,{onClick:()=>s(!c),variant:"outlined"},"Watch This Stock")))});a(488);var Ae=Object(E.b)(e=>({errors:e.errors,user:e.firebase.profile.email}),{})(e=>{var t,a,c,s,o;const i=(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.symbol)||"",m=null===(c=e.location)||void 0===c||null===(s=c.state)||void 0===s||null===(o=s.result)||void 0===o?void 0:o.replace("".concat(i," -"),""),u=Object(r.useState)({currency:"",regularMarketDayHigh:"",regularMarketDayLow:"",open:"",bid:"",bidSize:"",currentPrice:""}),p=Object(l.a)(u,2),d=p[0],h=p[1],E=Object(r.useState)(!1),b=Object(l.a)(E,2),g=b[0],f=b[1],v=Object(r.useState)(!1),w=Object(l.a)(v,2),k=w[0],y=w[1],O=Object(r.useState)(),x=Object(l.a)(O,2),j=x[0],S=x[1],N=Object(r.useState)(),C=Object(l.a)(N,2),T=C[0],R=C[1],_=Object(r.useState)(!1),W=Object(l.a)(_,2),I=W[0],M=W[1],D=Object(r.useState)({severity:"",message:""}),F=Object(l.a)(D,2),L=F[0],P=F[1],A=(e,t)=>{"clickaway"!==t&&M(!1)};return n.a.createElement(ae.a,{className:"p-3"},n.a.createElement(le.a,{item:!0,container:!0,justifyContent:"center",direction:"column",xs:12},n.a.createElement("h1",null,i),n.a.createElement("h2",null,m)),n.a.createElement(le.a,{item:!0,container:!0,justifyContent:"center",alignItems:"center",xs:12},g&&n.a.createElement(oe.a,null)),n.a.createElement(le.a,{item:!0,xs:12,className:"text-center pt-2"},n.a.createElement(re.a,{open:I,autoHideDuration:6e3,onClose:A},n.a.createElement(he.a,{severity:L.severity,onClose:A},L.message))),n.a.createElement(Pe,{symbol:i,stockData:d,setStockData:h,watchStockForm:k,showWatchStockForm:y,setAlert:P,isLoading:g,setLoading:f}),k&&n.a.createElement(Le,{symbol:i,min:j,max:T,setMin:S,setMax:R,stockData:d,setAlertOpen:M,setAlert:P,setLoading:f}),n.a.createElement(ge,{symbol:i,setLoading:f}))}),Ue=a(287),He=a.n(Ue);const ze=Object(b.a)(e=>({paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)}}));function Be(){const e=ze(),t=Object(h.useFirebase)(),a=Object(r.useState)(""),c=Object(l.a)(a,2),s=c[0],o=c[1],i=Object(r.useState)(!1),m=Object(l.a)(i,2),u=m[0],p=m[1],E=function(){var e=Object(T.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,t.auth().sendPasswordResetEmail(s);case 4:p(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(ae.a,{component:"main",maxWidth:"xs"},n.a.createElement(xe.a,null),n.a.createElement("div",{className:e.paper},u?n.a.createElement(w.a,{component:"h1",variant:"h5"},"Please check your email to reset your password"):n.a.createElement(n.a.Fragment,null,n.a.createElement(w.a,{component:"h1",variant:"h5"},"Enter your email to reset your password"),n.a.createElement("form",{className:e.form,noValidate:!0},n.a.createElement(Se.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:e=>o(e.target.value)}),n.a.createElement(te.a,{type:"submit",fullWidth:!0,variant:"contained",className:"forgot-password--email primary-bg",onClick:e=>E(e)},"Send email link"))),n.a.createElement(le.a,{item:!0,className:"pt-2"},n.a.createElement(d.b,{to:"/sign-in",variant:"body2",className:"forgot-password--back-to-sign-in space-between"},n.a.createElement(He.a,null),n.a.createElement("span",{className:"pl-1"},n.a.createElement(w.a,{component:"h6",variant:"h6"},"Back to Sign In?"))))),n.a.createElement(Ne.a,{mt:8},n.a.createElement(Re,null)))}var Ge=Object(E.b)(e=>({showSearchFilters:e.general.showSearchFilters}),{})(()=>{const e=Object(E.c)(),t=Object(r.useState)(!1),a=Object(l.a)(t,2),c=a[0],s=a[1],o=Object(r.useState)({title:"",body:""}),i=Object(l.a)(o,2),m=i[0],d=i[1],h=Object(r.useState)(!1),b=Object(l.a)(h,2),g=b[0];return(e=>{u.getToken({vapidKey:"BOCCW2hgSeYQG0S__Bah0t_AaWDub1y8XbKV_uas3FTs61lt6LEKNSUG01yIly4L4AuYZ-muQO0GWlDG3lnC9wk"}).then(t=>{t?(console.log("current token for client: ",t),e(!0)):(console.log("No registration token available. Request permission to generate one."),e(!1))}).catch(e=>{console.log("An error occurred while retrieving token. ",e)})})(b[1]),new Promise(e=>{u.onMessage(t=>{e(t)})}).then(e=>{s(!0),d({title:e.notification.title,body:e.notification.body}),console.log(e)}).catch(e=>console.log("failed: ",e)),Object(r.useEffect)(()=>(e({type:"SET_WINDOW_WIDTH"}),window.addEventListener("resize",()=>e({type:"SET_WINDOW_WIDTH"})),()=>window.removeEventListener("resize",()=>e({type:"SET_WINDOW_WIDTH"}))),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(ee,null),n.a.createElement(re.a,{open:c,autoHideDuration:6e3,onClose:()=>s(!1)},n.a.createElement(he.a,{severity:"error",onClose:()=>s(!1)},m.title,m.body)),g&&n.a.createElement("h1",null," Notification permission enabled \ud83d\udc4d\ud83c\udffb "),!g&&n.a.createElement("h1",null," Need notification permission \u2757\ufe0f "),n.a.createElement(te.a,{onClick:()=>s(!0)},"Show Toast"),n.a.createElement(p.c,null,n.a.createElement(ye,{exact:!0,path:"/admin"},n.a.createElement(Fe,null)),n.a.createElement(p.a,{exact:!0,path:"/",component:we}),n.a.createElement(p.a,{exact:!0,path:"/sign-in",component:Ie}),n.a.createElement(p.a,{exact:!0,path:"/sign-up",component:De}),n.a.createElement(p.a,{exact:!0,path:"/forgot-password",component:Be}),n.a.createElement(p.a,{exact:!0,path:"/search/:symbol",component:Ae})))});a(489);var Ke=()=>n.a.createElement("div",{id:"notfound"},n.a.createElement("div",{className:"notfound"},n.a.createElement("div",{className:"notfound-404"},n.a.createElement("h1",null,"404")),n.a.createElement("h2",null,"Oops, The Page you are looking for can't be found!"),n.a.createElement(d.b,{to:"/"},n.a.createElement("span",{className:"arrow"}),"Return To Homepage")));class qe extends n.a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){}render(){return this.state.hasError?n.a.createElement(Ke,null):this.props.children}}var Ve=Object(p.g)(qe),Ye=a(140),Je=a(55),Xe=a(288);const $e={errors:{}};const Qe={windowWidth:window.innerWidth,screenSize:"wide",isMobile:!1};const Ze={showSearchFilters:!1};const et={watchersForUser:[]};const tt={searchResults:[]};const at={recentTickers:[]};var rt=Object(Je.c)({firebase:h.firebaseReducer,firestore:Ye.firestoreReducer,general:function(e=Ze,t){switch(t.type){case"SET_SHOW_MENU_FILTERS":return e.showSearchFilters=t.payload,Object(Oe.a)({},e);default:return Object(Oe.a)({},e)}},responsive:function(e=Qe,t){switch(t.type){case"SET_WINDOW_WIDTH":return e.windowWidth=window.innerWidth,window.innerWidth<=768?e.isMobile=!0:e.isMobile=!1,e.windowWidth<=375?e.screenSize="sm-phone":e.windowWidth>375&&e.windowWidth<=480?e.screenSize="phone":e.windowWidth>480&&e.windowWidth<=768?e.screenSize="mobile":e.windowWidth>768&&e.windowWidth<=992?e.screenSize="tablet":e.windowWidth>992&&e.windowWidth<=1200?e.screenSize="desktop":e.screenSize="wide",Object(Oe.a)({},e);default:return Object(Oe.a)({},e)}},search:function(e=tt,t){switch(t.type){case"SET_AUTOCOMPLETE_RESULTS":return e.searchResults=t.payload,Object(Oe.a)({},e);default:return e}},tickers:function(e=at,t){switch(t.type){case"RECENT_TICKERS":return e.recentTickers=t.payload,Object(Oe.a)({},e);default:return e}},watchers:function(e=et,t){switch(t.type){case"GET_STOCK_WATCHERS_BY_EMAIL":return e.watchersForUser=t.payload,Object(Oe.a)({},e);default:return e}},errors:function(e=$e,t){switch(t.type){case"GET_ERRORS":return e;case"SET_ERRORS":return e.errors=Object(Oe.a)(Object(Oe.a)({},e.errors),t.payload),e;default:return e}}}),nt=a(289);const ct=Object(nt.createLogger)(),st=[Xe.a,ct];var lt=Object(Je.e)(rt,{},Object(Je.d)(Object(Je.a)(...st)));a(521);const ot=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function it(e){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const t=e.installing;t.onstatechange=()=>{"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(e=>{console.error("Error during service worker registration:",e)})}const mt={firebase:i.a,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:lt.dispatch,createFirestoreInstance:Ye.createFirestoreInstance};s.a.render(n.a.createElement(E.a,{store:lt},n.a.createElement(h.ReactReduxFirebaseProvider,mt,n.a.createElement(d.a,{basename:"/StockWatcherClient"},n.a.createElement(Ve,null,n.a.createElement(Ge,null))))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/StockWatcherClient",window.location).origin!==window.location.origin)return;window.addEventListener("load",()=>{const e="https://jaybenaim.github.io/StockWatcherClient/firebase-messaging-sw.js";ot?function(e){fetch(e).then(t=>{404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):it(e)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(e):it(e)})}}()}},[[302,1,2]]]);
//# sourceMappingURL=main.7df30aa7.chunk.js.map